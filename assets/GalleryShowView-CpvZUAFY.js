import{_ as j,c as r,h as w,b as t,i as d,t as p,n as M,F as m,e as h,o as n,j as v,f as P,S as _,g as y,w as x,r as f,a as k}from"./index-zecxADMN.js";const G={name:"GalleryModal",props:{images:{type:Array,required:!0},initialImage:{type:String,default:null}},data(){return{selectedImage:this.initialImage,currentImageIndex:-1,thumbnailPageIndex:0,thumbnailsPerPage:3}},computed:{thumbnailPages(){const a=[],e=this.images.length;for(let o=0;o<e;o+=this.thumbnailsPerPage){const u=[];for(let s=o;s<o+this.thumbnailsPerPage&&s<e;s++)u.push(s);a.push(u)}return a},currentPage(){return this.currentImageIndex<0?0:Math.floor(this.currentImageIndex/this.thumbnailsPerPage)}},watch:{initialImage:{immediate:!0,handler(a){a&&(this.selectedImage=a,this.currentImageIndex=this.images.indexOf(a),this.thumbnailPageIndex=this.currentPage)}}},created(){window.addEventListener("keydown",this.handleKeyDown)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyDown)},methods:{nextImage(){this.currentImageIndex<this.images.length-1?this.currentImageIndex++:this.currentImageIndex=0,this.selectedImage=this.images[this.currentImageIndex],this.thumbnailPageIndex=this.currentPage},prevImage(){this.currentImageIndex>0?this.currentImageIndex--:this.currentImageIndex=this.images.length-1,this.selectedImage=this.images[this.currentImageIndex],this.thumbnailPageIndex=this.currentPage},selectImage(a){this.currentImageIndex=a,this.selectedImage=this.images[a],this.thumbnailPageIndex=this.currentPage},closeModal(){this.selectedImage=null,this.currentImageIndex=-1,this.thumbnailPageIndex=0,this.$emit("close")},handleKeyDown(a){if(this.selectedImage)switch(a.key){case"ArrowLeft":this.prevImage();break;case"ArrowRight":this.nextImage();break;case"Escape":this.closeModal();break}},prevThumbnailPage(){this.thumbnailPageIndex>0?this.thumbnailPageIndex--:this.thumbnailPageIndex=this.thumbnailPages.length-1},nextThumbnailPage(){this.thumbnailPageIndex<this.thumbnailPages.length-1?this.thumbnailPageIndex++:this.thumbnailPageIndex=0},goToThumbnailPage(a){this.thumbnailPageIndex=a}}},C={class:"absolute left-0 top-1/2 -translate-y-1/2 z-10"},T={class:"absolute right-0 top-1/2 -translate-y-1/2 z-10"},z=["src"],B={class:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white bg-black bg-opacity-50 px-3 py-1 rounded-full"},S={class:"overflow-hidden px-14 max-w-3xl mx-auto"},D=["onClick","data-index"],V={class:"aspect-ratio-box aspect-w-4 aspect-h-3 overflow-hidden rounded-lg shadow-md hover:shadow-xl"},A=["src","alt"],E={key:0,class:"absolute -bottom-1 left-0 right-0 h-1 bg-primary"},F={class:"flex justify-center mt-2 space-x-2"},L=["onClick"];function K(a,e,o,u,s,l){return s.selectedImage?(n(),r("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-90 flex flex-col items-center justify-between z-50 px-6 py-10",onClick:e[6]||(e[6]=(...i)=>l.closeModal&&l.closeModal(...i))},[t("div",{class:"relative max-w-5xl h-full flex items-center",onClick:e[2]||(e[2]=d(()=>{},["stop"]))},[t("div",C,[t("button",{class:"bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 m-2 transition-all duration-300",onClick:e[0]||(e[0]=d((...i)=>l.prevImage&&l.prevImage(...i),["stop"]))},e[7]||(e[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})],-1)]))]),t("div",T,[t("button",{class:"bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 m-2 transition-all duration-300",onClick:e[1]||(e[1]=d((...i)=>l.nextImage&&l.nextImage(...i),["stop"]))},e[8]||(e[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1)]))]),(n(),r("img",{src:s.selectedImage,key:s.currentImageIndex,class:"max-w-full max-h-[65vh] object-contain mx-auto"},null,8,z)),t("div",B,p(s.currentImageIndex+1)+" / "+p(o.images.length),1)]),t("div",{class:"w-full mt-auto mb-4 p-2 relative",onClick:e[5]||(e[5]=d(()=>{},["stop"]))},[t("button",{class:"absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-300",onClick:e[3]||(e[3]=d((...i)=>l.prevThumbnailPage&&l.prevThumbnailPage(...i),["stop"]))},e[9]||(e[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})],-1)])),t("div",S,[t("div",{class:"flex transition-transform duration-300 ease-in-out",style:M({transform:`translateX(-${s.thumbnailPageIndex*100}%)`})},[(n(!0),r(m,null,h(l.thumbnailPages,(i,c)=>(n(),r("div",{key:"page-"+c,class:"flex min-w-full justify-center flex-shrink-0"},[(n(!0),r(m,null,h(i,(g,I)=>(n(),r("div",{key:"thumb-"+g,class:v(["inline-block cursor-pointer transition-transform duration-200 relative w-1/3 px-2",{"scale-105 z-10":g===s.currentImageIndex,"opacity-40 hover:opacity-100":g!==s.currentImageIndex}]),onClick:d(b=>l.selectImage(g),["stop"]),"data-index":g},[t("div",V,[t("img",{src:o.images[g],alt:`Miniatura ${g+1}`,class:"w-full h-full object-cover"},null,8,A)]),g===s.currentImageIndex?(n(),r("div",E)):w("",!0)],10,D))),128))]))),128))],4)]),t("button",{class:"absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-300",onClick:e[4]||(e[4]=d((...i)=>l.nextThumbnailPage&&l.nextThumbnailPage(...i),["stop"]))},e[10]||(e[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1)])),t("div",F,[(n(!0),r(m,null,h(l.thumbnailPages,(i,c)=>(n(),r("div",{key:c,class:v(["w-2 h-2 rounded-full transition-all duration-200",c===s.thumbnailPageIndex?"bg-primary":"bg-gray-400 opacity-40 hover:opacity-60"]),onClick:d(g=>l.goToThumbnailPage(c),["stop"])},null,10,L))),128))])])])):w("",!0)}const N=j(G,[["render",K],["__scopeId","data-v-d7dda6a1"]]),O={name:"GalleryShowView",components:{Section:_,CardText:P,GalleryModal:N},props:{year:{type:String,required:!0}},data(){return{images:[],loading:!0,error:null,selectedImage:null}},created(){this.fetchImages()},methods:{fetchImages(){try{this.loading=!0;const a="./images/uomomondo-2023-24/",e=["FB_IMG_1708379356308.jpg","IMG20231215121402.jpg","IMG20231215123955.jpg","IMG20231221153137.jpg","IMG20231221154015.jpg","IMG20231221155538.jpg","IMG20231221155823.jpg","IMG20231221155834.jpg","IMG20231221163217.jpg","IMG20231221163801.jpg","IMG20231221164718.jpg","IMG20231221164732.jpg","IMG20231221165407.jpg","IMG20231221170757.jpg","IMG20231221172831.jpg","IMG20231221175115.jpg","IMG20231221175128.jpg","IMG20240131160647.jpg","IMG20240131160726.jpg","IMG20240131161325.jpg","IMG20240216084341.jpg","IMG20240216151917.jpg","IMG20240216162030.jpg","IMG20240221160247.jpg","IMG20240315110133.jpg","Manifesto MORO-Grassi-2.jpg","VID20240221160500.jpg","VID20240221162645.jpg","VID20240221170315.jpg","Video WhatsApp 2024-02-16 ore 14.24.02_fb3e5dfb.jpg"];this.images=e.map(o=>a+o),this.loading=!1}catch(a){this.error="Errore nel caricamento delle immagini: "+a.message,this.loading=!1}},openImage(a){this.selectedImage=a},closeModal(){this.selectedImage=null}}},q={class:"py-6"},R={key:0,class:"flex justify-center items-center my-6"},U={key:1,class:"alert alert-error"},W={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},X=["src","alt","onClick"];function H(a,e,o,u,s,l){const i=f("CardText"),c=f("GalleryModal"),g=f("Section");return n(),y(g,null,{default:x(()=>[k(i,{class:"bg-base-200","card-title":"Galleria "+o.year,"button-text":"Torna alla galleria","button-action":"/gallery"},{default:x(()=>[t("p",q," La galleria Ã¨ un viaggio attraverso le immagini e i temi che hanno caratterizzato il nostro percorso di crescita e di riflessione. Anno: "+p(o.year),1)]),_:1},8,["card-title"]),k(g,null,{default:x(()=>[s.loading?(n(),r("div",R,e[0]||(e[0]=[t("span",{class:"loading loading-spinner loading-lg text-accent"},null,-1)]))):s.error?(n(),r("div",U,p(s.error),1)):(n(),r("div",W,[(n(!0),r(m,null,h(s.images,(I,b)=>(n(),r("div",{key:b,class:"image-card"},[t("img",{src:I,alt:`Foto ${b+1}`,class:"w-full h-64 object-cover rounded-4xl shadow-md hover:shadow-xl transition-shadow duration-300",onClick:J=>l.openImage(I)},null,8,X)]))),128))])),s.selectedImage?(n(),y(c,{key:3,images:s.images,"initial-image":s.selectedImage,onClose:l.closeModal},null,8,["images","initial-image","onClose"])):w("",!0)]),_:1})]),_:1})}const Y=j(O,[["render",H],["__scopeId","data-v-58836455"]]);export{Y as default};
